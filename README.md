# Our_Walkie_Talkie :pager:  

2021 가을학기 <시스템 프로그래밍> Term Project

## A. 프로젝트명 : <Our_Walkie_Talkie>
  
## B. 프로젝트 멤버 이름 및 멤버 별로 담당한 파트에 대한 소개

### 프로젝트 멤버
* 빅데이터학과 20195168 박서정    
* 빅데이터학과 20195188 송지원

       
    
먼저 전체 프로그램을 짜기 위해 구현해야한 항목은 다음과 같습니다.    
- 서로 다른 노트북 간의 통신
- 음성 파일 녹음 및 출력
- 음성 파일 전송 및 수신
- 음악 파일 불러와 전송
- 음성 파일 수신 시 비블록킹을 위한 thread 구현

#### 20195168 박서정
위의 과정 중에서 담당한 과정으로는   
>   서로 다른 노트북 간의 통신    
>   음성 파일 전송 및 수신    
>   음악 파일 전송    
>   음성 파일 수신 thread 구현    



#### 20195188 송지원  
>   서로 다른 노트북 간의 통신   
>   음성 파일 녹음 및 출력    
>   음성 파일 전송 및 수신    
>   프로그램 종료 절차  

## C. 프로젝트 소개 및 개발 내용 소개
<img src="image/virtual-meeting.jpg" width="300"> <img src="image/half.jpg" width="300"> 

오늘날 대부분의 학생들은 또는 직장인들은 수업과 업무를 위해 화상 채팅을 해본 경험이 있을것이다.    
그 사용도가 증가함에 따라 개인적인 공간에서의 소음이 상대에게 의도치 않게 전달됨으로 발생하는 여러 불편한 상황을 마주하게 된다.   
이에 우리는 특정 키를 눌렀을 때에만 소리가 송출되도록 하는 <무전기>방식의 프로그램을 기획하였다.   

#### 개발 의의
수업 시간에 배운 소켓 통신은 개인의 컴퓨터 한 대를 이용하여 문자열 전송을 하는 통신이었다.    
하지만 사실상 대부분의 소켓 통신이 이용되는 곳은 하나의 컴퓨터 내부에서 실행되지 않으며 그 형식 또한 다양하다.    
우리는 실습에서 배운 내용을 기초로 하여 실제적으로 사용가능한 음성 통신 프로그램을 기획하였다.  
또한 ip주소 체계에 대한 개념을 잡고 이를 응용하기 위해 나름의 공부를 진행하였다.   
백문이 불여일견이라는 고사성어의 뜻과 같이 이번 프로젝트를 통해 소켓 통신을 머리로만 이해하는 것이 아닌   
몸소 경험해 보고자 한다.   
또 팀원 간의 협업을 통해 다수가 참여하는 프로젝트에서 본인이 취해야 할 자세를 배우기도 하였다.  

##### 전체적인 진행 과정 

1. 무전기는 우리가 흔히 알고 있듯이 half-duplex (반이중 통신)방식의 통신을 지원한다.   
따라서 우리는 양쪽이 모두 전송과 수신이 가능하지만 한 번에 하나의 기기만이 전송할 수 있도록 전역 변수를 통해 제어한다.   
2. 또한 특정 키 's'를 입력했을 시에 5초간 녹음이 되어 파일 형태로 저장이 된 후 파일의 내용을 읽어 전달하는 형태로 구현하였다.     
여기에서 리눅스의 모든 것은 파일이라는 말이 있듯 음성 파일 또한 여느 파일의 전송 형태와 동일하게 파일을 열고 읽을 수 있다.     
또는 'm'을 입력하여 저장되어 있는 음악의 목록 중 하나를 선택하여 음악 파일을 읽어오거나,    
'q'를 입력하여 프로그램을 종료시킬 수 있다.     
3. 전송이 된 음성 파일 내용은 수신자 측에서 계속해서 수신 파일의 유무를 검사하는 thread 내부에서 수신되어 받는 즉시 재생이 된다.   
4. 수신자 측의 음성 녹음을 진행할 것인지를 입력을 통해 확인하고 음성 녹음 파일, 음악 파일, 종료 중 하나를 선택하게 된다.  
5. 위와 같은 과정이 양쪽 컴퓨터에서 반복해서 진행된다.  


## D. 프로젝트 개발 결과물 소개 (+다이어그램)
<center><img src="image/structure.jpg" alt="initial structure"></center>

프로그램의 전체적인 진행 과정을 담은 구조도이다.        
구조도에서 볼 수 있듯이 명목상 server와 client의 이름으로 두 프로세스가 실행되지만,     
실제로 그 구현 내용은 다르지 않다.      

----- 

<center><img src="image/sstructure.jpg"></center>

해당 구조도에 따라 전체 프로젝트가 진행된다.     
   

## E. 개발 결과물을 사용하는 방법 소개 (+프로그램 구동 화면 스크린샷 첨부)

![image](https://user-images.githubusercontent.com/52690009/144751182-8cfadff3-fccd-428c-a0b7-a9cca3e5a972.png)

server와 Client간의 음성 채팅 장면이다.    

결과물을 사용하는 방법으로는 동일한 네트워크에 접속 후    
어댑터를 이용해 브릿지 설정으로 바꾼다.      
그 후 서버 측의 ip를 코드상에 적고 각가지 경로를 설정해준다.      
그 후 해당 코드를 실행하면 서버와 클라이언트간의 음성이 전달되며    
s, m, q등의 옵션이 있다.      
s를 이용해 녹음을 시작할 때와, 녹음 후 출력으로 이어질 때는 블록킹이 걸려 있으므로 특정 입력값을 입력해주어야 한다.      

## F. 개발 결과물의 필요성 및 활용방안

<center><img src="image/circle_room.jpg"></center>


우리의 프로그램의 필요성은 주제 선정 이유의 연장선이라고 볼 수 있다.    
바로 소리가 송출되는 시점을 제어함으로써 불필요한 소리 전달을 최소화하는 그 어떤 상황에도 사용될 수 있다.    
만약 이런 장치가 없이 참여자간의 소리가 모두 전달이 된다면 속한 상황에 따라 불편한 상황을 맞이할 수 있다.     
예를 들어 화상 회의 시간이나 또는 위의 첨부된 사진과 같이 정치계 회의 장소에서        
버튼을 누를 때만 본인의 발언이 송출되는 시스템을 뉴스를 통해 접해볼 수 있는데, 이런 상황에 사용 가능하다.      
그리고 친구들 간의 화상 회의 또는 음성 채팅에서도 사용가능한데 예를 들어 모두가 산만하고 이야기 주제가 통일이 되지 않는 상황에    
한 사람만이 말 할 수 있도록 함으로써 상황을 정리할 수 있다.      

활용 방안으로는 위의 소개된 다양한 상황에 사용될 수 있다.     
